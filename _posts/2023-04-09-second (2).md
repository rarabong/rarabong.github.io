---
layout: single
title:  "Titanic"
---

{
  "nbformat": 4,
  "nbformat_minor": 0,
  "metadata": {
    "colab": {
      "provenance": []
    },
    "kernelspec": {
      "name": "python3",
      "display_name": "Python 3"
    },
    "language_info": {
      "name": "python"
    }
  },
  "cells": [
    {
      "cell_type": "markdown",
      "source": [
        "# 3. 타이타닉"
      ],
      "metadata": {
        "id": "rD9qtcJJnwTk"
      }
    },
    {
      "cell_type": "markdown",
      "source": [
        "**타이타닉 데이터셋 도전**"
      ],
      "metadata": {
        "id": "1EkE4HLdoCF_"
      }
    },
    {
      "cell_type": "code",
      "execution_count": 85,
      "metadata": {
        "id": "m71ti7lDCHko"
      },
      "outputs": [],
      "source": [
        "from pathlib import Path\n",
        "import pandas as pd\n",
        "import tarfile\n",
        "import urllib.request\n",
        "\n",
        "def load_titanic_data():\n",
        "    tarball_path = Path(\"datasets/titanic.tgz\")\n",
        "    if not tarball_path.is_file():\n",
        "        Path(\"datasets\").mkdir(parents=True, exist_ok=True)\n",
        "        url = \"https://github.com/ageron/data/raw/main/titanic.tgz\"\n",
        "        urllib.request.urlretrieve(url, tarball_path)\n",
        "        with tarfile.open(tarball_path) as titanic_tarball:\n",
        "            titanic_tarball.extractall(path=\"datasets\")\n",
        "    return [pd.read_csv(Path(\"datasets/titanic\") / filename)\n",
        "            for filename in (\"train.csv\", \"test.csv\")]"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 86,
      "metadata": {
        "id": "v8k1-MNkCHko"
      },
      "outputs": [],
      "source": [
        "train_data, test_data = load_titanic_data()"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "데이터는 이미 훈련 세트와 테스트 세트로 분리되어 있습니다. 그러나 테스트 데이터는 레이블을 가지고 있지 않습니다: 훈련 데이터를 이용하여 가능한 최고의 모델을 만들고 테스트 데이터에 대한 예측을 캐글(Kaggle)에 업로드하여 최종 점수를 확인하는 것이 목표입니다.\n",
        "\n",
        "훈련 세트에서 맨 위 몇 개의 열을 살펴 보겠습니다:"
      ],
      "metadata": {
        "id": "fhdhjL09oRL8"
      }
    },
    {
      "cell_type": "code",
      "execution_count": 87,
      "metadata": {
        "id": "TR5F5u3-CHko",
        "outputId": "ab194197-2b27-41b4-d5f8-f3e5e6dedfe2",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 469
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "   PassengerId  Survived  Pclass  \\\n",
              "0            1         0       3   \n",
              "1            2         1       1   \n",
              "2            3         1       3   \n",
              "3            4         1       1   \n",
              "4            5         0       3   \n",
              "\n",
              "                                                Name     Sex   Age  SibSp  \\\n",
              "0                            Braund, Mr. Owen Harris    male  22.0      1   \n",
              "1  Cumings, Mrs. John Bradley (Florence Briggs Th...  female  38.0      1   \n",
              "2                             Heikkinen, Miss. Laina  female  26.0      0   \n",
              "3       Futrelle, Mrs. Jacques Heath (Lily May Peel)  female  35.0      1   \n",
              "4                           Allen, Mr. William Henry    male  35.0      0   \n",
              "\n",
              "   Parch            Ticket     Fare Cabin Embarked  \n",
              "0      0         A/5 21171   7.2500   NaN        S  \n",
              "1      0          PC 17599  71.2833   C85        C  \n",
              "2      0  STON/O2. 3101282   7.9250   NaN        S  \n",
              "3      0            113803  53.1000  C123        S  \n",
              "4      0            373450   8.0500   NaN        S  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-2349db17-11c6-4391-8cf5-545c0defd796\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>PassengerId</th>\n",
              "      <th>Survived</th>\n",
              "      <th>Pclass</th>\n",
              "      <th>Name</th>\n",
              "      <th>Sex</th>\n",
              "      <th>Age</th>\n",
              "      <th>SibSp</th>\n",
              "      <th>Parch</th>\n",
              "      <th>Ticket</th>\n",
              "      <th>Fare</th>\n",
              "      <th>Cabin</th>\n",
              "      <th>Embarked</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>1</td>\n",
              "      <td>0</td>\n",
              "      <td>3</td>\n",
              "      <td>Braund, Mr. Owen Harris</td>\n",
              "      <td>male</td>\n",
              "      <td>22.0</td>\n",
              "      <td>1</td>\n",
              "      <td>0</td>\n",
              "      <td>A/5 21171</td>\n",
              "      <td>7.2500</td>\n",
              "      <td>NaN</td>\n",
              "      <td>S</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>2</td>\n",
              "      <td>1</td>\n",
              "      <td>1</td>\n",
              "      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>\n",
              "      <td>female</td>\n",
              "      <td>38.0</td>\n",
              "      <td>1</td>\n",
              "      <td>0</td>\n",
              "      <td>PC 17599</td>\n",
              "      <td>71.2833</td>\n",
              "      <td>C85</td>\n",
              "      <td>C</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>3</td>\n",
              "      <td>1</td>\n",
              "      <td>3</td>\n",
              "      <td>Heikkinen, Miss. Laina</td>\n",
              "      <td>female</td>\n",
              "      <td>26.0</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>STON/O2. 3101282</td>\n",
              "      <td>7.9250</td>\n",
              "      <td>NaN</td>\n",
              "      <td>S</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>4</td>\n",
              "      <td>1</td>\n",
              "      <td>1</td>\n",
              "      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>\n",
              "      <td>female</td>\n",
              "      <td>35.0</td>\n",
              "      <td>1</td>\n",
              "      <td>0</td>\n",
              "      <td>113803</td>\n",
              "      <td>53.1000</td>\n",
              "      <td>C123</td>\n",
              "      <td>S</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>5</td>\n",
              "      <td>0</td>\n",
              "      <td>3</td>\n",
              "      <td>Allen, Mr. William Henry</td>\n",
              "      <td>male</td>\n",
              "      <td>35.0</td>\n",
              "      <td>0</td>\n",
              "      <td>0</td>\n",
              "      <td>373450</td>\n",
              "      <td>8.0500</td>\n",
              "      <td>NaN</td>\n",
              "      <td>S</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-2349db17-11c6-4391-8cf5-545c0defd796')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "        \n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "      \n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-2349db17-11c6-4391-8cf5-545c0defd796 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-2349db17-11c6-4391-8cf5-545c0defd796');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n",
              "  "
            ]
          },
          "metadata": {},
          "execution_count": 87
        }
      ],
      "source": [
        "train_data.head()"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "속성은 다음과 같은 의미를 가집니다:\n",
        "\n",
        "Survived: 타깃입니다. 0은 생존하지 못한 것이고 1은 생존\n",
        "\n",
        "Pclass: 승객 등급. 1, 2, 3등석.\n",
        "\n",
        "Name, Sex, Age: 이름 그대로 의미입니다.\n",
        "\n",
        "SibSp: 함께 탑승한 형제, 배우자의 수.\n",
        "\n",
        "Parch: 함께 탑승한 자녀, 부모의 수.\n",
        "\n",
        "Ticket: 티켓 아이디\n",
        "\n",
        "Fare: 티켓 요금 (파운드)\n",
        "\n",
        "Cabin: 객실 번호\n",
        "\n",
        "Embarked: 승객이 탑승한 곳. C(Cherbourg), Q(Queenstown), S(Southampton)"
      ],
      "metadata": {
        "id": "wjI-XBuPoTQx"
      }
    },
    {
      "cell_type": "code",
      "execution_count": 88,
      "metadata": {
        "id": "GJWtfiXqCHkp"
      },
      "outputs": [],
      "source": [
        "train_data = train_data.set_index(\"PassengerId\")\n",
        "test_data = test_data.set_index(\"PassengerId\")"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "누락된 데이터가 얼마나 되는지 알아보겠습니다:"
      ],
      "metadata": {
        "id": "XJPudmYSoW-2"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "train_data.info()"
      ],
      "metadata": {
        "id": "7TuuC4vJoWm0",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "61d27b87-d21e-446d-b007-f7e45bbf9495"
      },
      "execution_count": 89,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "<class 'pandas.core.frame.DataFrame'>\n",
            "Int64Index: 891 entries, 1 to 891\n",
            "Data columns (total 11 columns):\n",
            " #   Column    Non-Null Count  Dtype  \n",
            "---  ------    --------------  -----  \n",
            " 0   Survived  891 non-null    int64  \n",
            " 1   Pclass    891 non-null    int64  \n",
            " 2   Name      891 non-null    object \n",
            " 3   Sex       891 non-null    object \n",
            " 4   Age       714 non-null    float64\n",
            " 5   SibSp     891 non-null    int64  \n",
            " 6   Parch     891 non-null    int64  \n",
            " 7   Ticket    891 non-null    object \n",
            " 8   Fare      891 non-null    float64\n",
            " 9   Cabin     204 non-null    object \n",
            " 10  Embarked  889 non-null    object \n",
            "dtypes: float64(2), int64(4), object(5)\n",
            "memory usage: 83.5+ KB\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 90,
      "metadata": {
        "id": "MsW2LgtqCHkp",
        "outputId": "2653a097-e283-40d8-a378-f267d4059c6d",
        "colab": {
          "base_uri": "https://localhost:8080/"
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "27.0"
            ]
          },
          "metadata": {},
          "execution_count": 90
        }
      ],
      "source": [
        "train_data[train_data[\"Sex\"]==\"female\"][\"Age\"].median()"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "괜찮네요. Age, Cabin, Embarked 속성의 일부가 null입니다(891개의 non-null 보다 작습니다). 특히 Cabin은 77%가 null입니다. 일단 Cabin은 무시하고 나머지를 활용하겠습니다. Age는 19%가 null이므로 이를 어떻게 처리할지 결정해야 합니다. null을 중간 나이로 바꾸는 것이 괜찮아 보입니다.\n",
        "\n",
        "Name과 Ticket 속성도 값을 가지고 있지만 머신러닝 모델이 사용할 수 있는 숫자로 변환하는 것이 조금 까다롭습니다. 그래서 지금은 이 두 속성을 무시하겠습니다.\n",
        "\n",
        "통계치를 살펴 보겠습니다:"
      ],
      "metadata": {
        "id": "CQYSYgK0oWE3"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "train_data.describe()"
      ],
      "metadata": {
        "id": "MFoNyjPjoeHP",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 297
        },
        "outputId": "4507c04b-a9be-4c93-9577-11176b9abfaa"
      },
      "execution_count": 91,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "         Survived      Pclass         Age       SibSp       Parch        Fare\n",
              "count  891.000000  891.000000  714.000000  891.000000  891.000000  891.000000\n",
              "mean     0.383838    2.308642   29.699113    0.523008    0.381594   32.204208\n",
              "std      0.486592    0.836071   14.526507    1.102743    0.806057   49.693429\n",
              "min      0.000000    1.000000    0.416700    0.000000    0.000000    0.000000\n",
              "25%      0.000000    2.000000   20.125000    0.000000    0.000000    7.910400\n",
              "50%      0.000000    3.000000   28.000000    0.000000    0.000000   14.454200\n",
              "75%      1.000000    3.000000   38.000000    1.000000    0.000000   31.000000\n",
              "max      1.000000    3.000000   80.000000    8.000000    6.000000  512.329200"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-ef51f33a-5d51-465d-9021-3eccb81f60d3\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Survived</th>\n",
              "      <th>Pclass</th>\n",
              "      <th>Age</th>\n",
              "      <th>SibSp</th>\n",
              "      <th>Parch</th>\n",
              "      <th>Fare</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>count</th>\n",
              "      <td>891.000000</td>\n",
              "      <td>891.000000</td>\n",
              "      <td>714.000000</td>\n",
              "      <td>891.000000</td>\n",
              "      <td>891.000000</td>\n",
              "      <td>891.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>mean</th>\n",
              "      <td>0.383838</td>\n",
              "      <td>2.308642</td>\n",
              "      <td>29.699113</td>\n",
              "      <td>0.523008</td>\n",
              "      <td>0.381594</td>\n",
              "      <td>32.204208</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>std</th>\n",
              "      <td>0.486592</td>\n",
              "      <td>0.836071</td>\n",
              "      <td>14.526507</td>\n",
              "      <td>1.102743</td>\n",
              "      <td>0.806057</td>\n",
              "      <td>49.693429</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>min</th>\n",
              "      <td>0.000000</td>\n",
              "      <td>1.000000</td>\n",
              "      <td>0.416700</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>25%</th>\n",
              "      <td>0.000000</td>\n",
              "      <td>2.000000</td>\n",
              "      <td>20.125000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>7.910400</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>50%</th>\n",
              "      <td>0.000000</td>\n",
              "      <td>3.000000</td>\n",
              "      <td>28.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>14.454200</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>75%</th>\n",
              "      <td>1.000000</td>\n",
              "      <td>3.000000</td>\n",
              "      <td>38.000000</td>\n",
              "      <td>1.000000</td>\n",
              "      <td>0.000000</td>\n",
              "      <td>31.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>max</th>\n",
              "      <td>1.000000</td>\n",
              "      <td>3.000000</td>\n",
              "      <td>80.000000</td>\n",
              "      <td>8.000000</td>\n",
              "      <td>6.000000</td>\n",
              "      <td>512.329200</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ef51f33a-5d51-465d-9021-3eccb81f60d3')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "        \n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "      \n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-ef51f33a-5d51-465d-9021-3eccb81f60d3 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-ef51f33a-5d51-465d-9021-3eccb81f60d3');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n",
              "  "
            ]
          },
          "metadata": {},
          "execution_count": 91
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "38%만 Survived입니다. :( 거의 40%에 가까우므로 정확도를 사용해 모델을 평가해도 괜찮을 것 같습니다.\n",
        "\n",
        "평균 Fare는 32.20 파운드라 그렇게 비싸보이지는 않습니다(아마 요금을 많이 반환해 주었기 때문일 것입니다)\n",
        "\n",
        "평균 Age는 30보다 작습니다."
      ],
      "metadata": {
        "id": "6lsKRbLyof1O"
      }
    },
    {
      "cell_type": "markdown",
      "source": [
        "타깃이 0과 1로 이루어졌는지 확인합니다"
      ],
      "metadata": {
        "id": "EG5e7m9voixP"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "train_data[\"Survived\"].value_counts()"
      ],
      "metadata": {
        "id": "E5MFp6zNoh-L",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "5054d9e3-2e14-425c-a433-0fa061d489b1"
      },
      "execution_count": 92,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "0    549\n",
              "1    342\n",
              "Name: Survived, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 92
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "범주형 특성"
      ],
      "metadata": {
        "id": "hxwwCbW9okrs"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "train_data[\"Pclass\"].value_counts()"
      ],
      "metadata": {
        "id": "TpG_oh70olOq",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "25c5236d-99dd-4ded-d26f-28cc0a4f7b76"
      },
      "execution_count": 93,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "3    491\n",
              "1    216\n",
              "2    184\n",
              "Name: Pclass, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 93
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "train_data[\"Sex\"].value_counts()"
      ],
      "metadata": {
        "id": "u2W13Wk4ompY",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "166294da-50ad-4d03-fddd-7b80e357a8a3"
      },
      "execution_count": 94,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "male      577\n",
              "female    314\n",
              "Name: Sex, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 94
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "train_data[\"Embarked\"].value_counts()"
      ],
      "metadata": {
        "id": "Qz1-zmtZonWL",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "393ba36d-256c-4bb1-ea1a-2f1e1dfacb2e"
      },
      "execution_count": 95,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "S    644\n",
              "C    168\n",
              "Q     77\n",
              "Name: Embarked, dtype: int64"
            ]
          },
          "metadata": {},
          "execution_count": 95
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "Embarked 특성은 승객이 탑승한 곳을 알려 줍니다: C=Cherbourg, Q=Queenstown, S=Southampton.\n",
        "\n"
      ],
      "metadata": {
        "id": "uhbyIRhkomJS"
      }
    },
    {
      "cell_type": "markdown",
      "source": [
        " 아래 코드는 Pipeline, FeatureUnion와 사용자 정의 DataFrameSelector 클래스를 사용해 각 열을 다르게 전처리합니다. 사이킷런 0.20부터는 이전 장에서처럼 ColumnTransformer를 사용하는 것이 좋습니다.\n",
        "\n",
        "전처리 파이프라인을 만들어 보죠. 이전 장에서 만든 DataframeSelector를 재사용하여 DataFrame에서 특정 열을 선택하겠습니다:"
      ],
      "metadata": {
        "id": "bRBo1t2zop5V"
      }
    },
    {
      "cell_type": "markdown",
      "source": [
        "숫자 특성을 위한 파이프라인을 만듭니다:"
      ],
      "metadata": {
        "id": "svP1NfBFosHg"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "from sklearn.preprocessing import StandardScaler"
      ],
      "metadata": {
        "id": "5ooSvXq_XY45"
      },
      "execution_count": 96,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 97,
      "metadata": {
        "id": "auLz98MuCHkq"
      },
      "outputs": [],
      "source": [
        "from sklearn.pipeline import Pipeline\n",
        "from sklearn.impute import SimpleImputer\n",
        "\n",
        "num_pipeline = Pipeline([\n",
        "        (\"imputer\", SimpleImputer(strategy=\"median\")),\n",
        "        (\"scaler\", StandardScaler())\n",
        "    ])"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "3s7sdLjzCHkq"
      },
      "source": [
        "\n",
        "이제 범주 속성에 대한 파이프라인을 구축할 수 있습니다."
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from sklearn.preprocessing import OrdinalEncoder, OneHotEncoder"
      ],
      "metadata": {
        "id": "ZC1gb5kpov1F"
      },
      "execution_count": 98,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 99,
      "metadata": {
        "id": "ALW4qxPECHkq"
      },
      "outputs": [],
      "source": [
        "cat_pipeline = Pipeline([\n",
        "        (\"ordinal_encoder\", OrdinalEncoder()),    \n",
        "        (\"imputer\", SimpleImputer(strategy=\"most_frequent\")),\n",
        "        (\"cat_encoder\", OneHotEncoder(sparse=False)),\n",
        "    ])"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "이제 범주형 특성을 위한 파이프라인을 만듭니다:"
      ],
      "metadata": {
        "id": "KXDC9nc7oxBb"
      }
    },
    {
      "cell_type": "code",
      "execution_count": 100,
      "metadata": {
        "id": "WR2F2949CHkq"
      },
      "outputs": [],
      "source": [
        "from sklearn.compose import ColumnTransformer\n",
        "\n",
        "num_attribs = [\"Age\", \"SibSp\", \"Parch\", \"Fare\"]\n",
        "cat_attribs = [\"Pclass\", \"Sex\", \"Embarked\"]\n",
        "\n",
        "preprocess_pipeline = ColumnTransformer([\n",
        "        (\"num\", num_pipeline, num_attribs),\n",
        "        (\"cat\", cat_pipeline, cat_attribs),\n",
        "    ])"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "_Tksb0r9CHkq"
      },
      "source": [
        "이제 우리는 원시 데이터를 가져오고 우리가 원하는 기계 학습 모델에 공급할 수 있는 숫자 입력 기능을 출력하는 멋진 전처리 파이프라인을 가지고 있습니다."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 101,
      "metadata": {
        "id": "zDe6lrS-CHkq",
        "outputId": "b76f0868-a14f-4c21-81a3-b8c56b974aee",
        "colab": {
          "base_uri": "https://localhost:8080/"
        }
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "/usr/local/lib/python3.9/dist-packages/sklearn/preprocessing/_encoders.py:868: FutureWarning: `sparse` was renamed to `sparse_output` in version 1.2 and will be removed in 1.4. `sparse_output` is ignored unless you leave `sparse` to its default value.\n",
            "  warnings.warn(\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "array([[-0.56573582,  0.43279337, -0.47367361, ...,  0.        ,\n",
              "         0.        ,  1.        ],\n",
              "       [ 0.6638609 ,  0.43279337, -0.47367361, ...,  1.        ,\n",
              "         0.        ,  0.        ],\n",
              "       [-0.25833664, -0.4745452 , -0.47367361, ...,  0.        ,\n",
              "         0.        ,  1.        ],\n",
              "       ...,\n",
              "       [-0.10463705,  0.43279337,  2.00893337, ...,  0.        ,\n",
              "         0.        ,  1.        ],\n",
              "       [-0.25833664, -0.4745452 , -0.47367361, ...,  1.        ,\n",
              "         0.        ,  0.        ],\n",
              "       [ 0.20276213, -0.4745452 , -0.47367361, ...,  0.        ,\n",
              "         1.        ,  0.        ]])"
            ]
          },
          "metadata": {},
          "execution_count": 101
        }
      ],
      "source": [
        "X_train = preprocess_pipeline.fit_transform(train_data)\n",
        "X_train"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "GSQlrWfCCHkq"
      },
      "source": [
        "\n",
        "레이블을 얻는 것을 잊지 마십시오"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 102,
      "metadata": {
        "id": "Jy5kGIgpCHkr"
      },
      "outputs": [],
      "source": [
        "y_train = train_data[\"Survived\"]"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "hK9WqXjNCHkr"
      },
      "source": [
        "이제 분류기를 훈련할 준비가 되었습니다`RandomForestClassifier`:"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from sklearn.ensemble import RandomForestClassifier"
      ],
      "metadata": {
        "id": "-FMj0uSTXhNa"
      },
      "execution_count": 103,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 104,
      "metadata": {
        "id": "T8PB1p-ECHkr",
        "outputId": "34d27386-8a1e-47c0-d54b-1c0fdc414284",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 74
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "RandomForestClassifier(random_state=42)"
            ],
            "text/html": [
              "<style>#sk-container-id-3 {color: black;background-color: white;}#sk-container-id-3 pre{padding: 0;}#sk-container-id-3 div.sk-toggleable {background-color: white;}#sk-container-id-3 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-3 label.sk-toggleable__label-arrow:before {content: \"▸\";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-3 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-3 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-3 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: \"▾\";}#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-3 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-3 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-3 div.sk-parallel-item::after {content: \"\";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-3 div.sk-serial::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-3 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-3 div.sk-item {position: relative;z-index: 1;}#sk-container-id-3 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-3 div.sk-item::before, #sk-container-id-3 div.sk-parallel-item::before {content: \"\";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-3 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-3 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-3 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-3 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-3 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-3 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-3 div.sk-label-container {text-align: center;}#sk-container-id-3 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-3 div.sk-text-repr-fallback {display: none;}</style><div id=\"sk-container-id-3\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>RandomForestClassifier(random_state=42)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-3\" type=\"checkbox\" checked><label for=\"sk-estimator-id-3\" class=\"sk-toggleable__label sk-toggleable__label-arrow\">RandomForestClassifier</label><div class=\"sk-toggleable__content\"><pre>RandomForestClassifier(random_state=42)</pre></div></div></div></div></div>"
            ]
          },
          "metadata": {},
          "execution_count": 104
        }
      ],
      "source": [
        "forest_clf = RandomForestClassifier(n_estimators=100, random_state=42)\n",
        "forest_clf.fit(X_train, y_train)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "tRXwatKaCHkr"
      },
      "source": [
        "좋습니다. 우리 모델이 훈련되었으니 이를 사용하여 테스트 세트에 대한 예측을 해봅시다."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 105,
      "metadata": {
        "id": "9iuGi1_lCHkr"
      },
      "outputs": [],
      "source": [
        "X_test = preprocess_pipeline.transform(test_data)\n",
        "y_pred = forest_clf.predict(X_test)"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "GImNOiTZCHkr"
      },
      "source": [
        "그리고 이제 우리는 이러한 예측으로 CSV 파일을 빌드한 다음(Kaggle을 제외한 형식을 존중함) 업로드하고 최선을 다할 수 있습니다.\n",
        "\n",
        "모델이 얼마나 좋은지 알아보기 위해 교차 검증을 사용하지 않는 이유는 무엇입니까?\n",
        "\n",
        "\n"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from sklearn.model_selection import cross_val_score\n",
        "from sklearn.model_selection import train_test_split"
      ],
      "metadata": {
        "id": "iONIX6eFXoZo"
      },
      "execution_count": 106,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 107,
      "metadata": {
        "id": "jVdDYt4ZCHkr",
        "outputId": "cae2791f-5f11-469d-bad2-f7f36fd4f73e",
        "colab": {
          "base_uri": "https://localhost:8080/"
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "0.8137578027465668"
            ]
          },
          "metadata": {},
          "execution_count": 107
        }
      ],
      "source": [
        "forest_scores = cross_val_score(forest_clf, X_train, y_train, cv=10)\n",
        "forest_scores.mean()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "Aju2ZjHfCHkr"
      },
      "source": [
        "`SVC`를 사용해 봅시다:"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 108,
      "metadata": {
        "id": "6cUN-ixDCHkr",
        "outputId": "68d84bb3-63bc-4a43-d609-cdb225463c24",
        "colab": {
          "base_uri": "https://localhost:8080/"
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "0.8249313358302123"
            ]
          },
          "metadata": {},
          "execution_count": 108
        }
      ],
      "source": [
        "from sklearn.svm import SVC\n",
        "\n",
        "svm_clf = SVC(gamma=\"auto\")\n",
        "svm_scores = cross_val_score(svm_clf, X_train, y_train, cv=10)\n",
        "svm_scores.mean()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "CiHmT9RXCHks"
      },
      "source": [
        "이 모델이 더 좋아 보입니다"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "2sUV2vV8CHks"
      },
      "source": [
        "10 폴드 교차 검증에 대한 평균 정확도를 보는 대신 모델에서 얻은 10개의 점수를 1사분위, 3사분위를 명료하게 표현해주는 상자 수염 그림(box-and-whisker) 그래프를 만들어 보겠습니다"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "from matplotlib import pyplot as plt"
      ],
      "metadata": {
        "id": "9d7wqtm-Xvq-"
      },
      "execution_count": 109,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 110,
      "metadata": {
        "id": "q1bf6Ds6CHks",
        "outputId": "964c66c0-927c-40c9-800f-8fa4b80758ca",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 368
        }
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "<Figure size 800x400 with 1 Axes>"
            ],
            "image/png": "iVBORw0KGgoAAAANSUhEUgAAArwAAAFfCAYAAACsgh/yAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAA620lEQVR4nO3de1xVVf7/8fc5B+WmkoriDcVKhYpRQSTRcayYKBvKLDPxfq1GutE0gYlOOUo1DTFTJtXgZcZMqtEuY1kNRY5pYpCW30Ar84epoOQECojK2b8/GM90BjTBgxt3r+fjcR7Hvc7aa39Wj0f4drH2PjbDMAwBAAAAFmU3uwAAAACgORF4AQAAYGkEXgAAAFgagRcAAACWRuAFAACApRF4AQAAYGkEXgAAAFial9kFtEROp1P79+9X27ZtZbPZzC4HAAAA/8MwDB05ckTdunWT3X7mNVwCbwP279+v4OBgs8sAAADAj9i7d6969Ohxxj4E3ga0bdtWUt1/wHbt2plcDQAAAP5XRUWFgoODXbntTAi8DTi1jaFdu3YEXgAAgBbsbLafctMaAAAALI3ACwAAAEsj8AIAAMDSCLwAAACwNAIvAAAALI3ACwAAAEsj8AIAAMDSCLwAAACwNAIvAADwnPJ90jcb6t6BFoJvWgMAAJ5R8FfpzXslwynZ7FL8n6SISWZXBRB4AQDAmVVVVamoqOjMnY4clFbNVvVJp/Z871TIRXb5PpcoJXSW2nb+0WuEhobKz8/PQxUD7gi8AADgjIqKihQZGdm0k5+//qy65efnKyIiomnXAH4EgRcAAJxRaGio8vPzz9zpyEFp1RgVlp3UhDXHtHK0j8ICW0kJL5/1Ci/QXAi8AADgjPz8/M5u9bXtYum5REnHFBbYShF3PCNFXNfs9QE/hqc0AAAAz4iYVLeiK9W9c8MaWggCLwAA8JxT2xfOYhsDcL4QeAEAAGBpBF4AAABYGoEXAAAAlkbgBQAAgKUReAEAAGBpBF4AAABYGoEXAAAAlkbgBQAAgKWZHngXL16skJAQ+fj4KDo6Wnl5eWfsn5GRoX79+snX11fBwcG6//77dezYMdfntbW1Sk1NVe/eveXr66tLLrlECxYskGEYzT0VAAAAtEBeZl48OztbSUlJyszMVHR0tDIyMhQXF6edO3eqc+f639CyatUqJScna+nSpYqJidGuXbs0ZcoU2Ww2paenS5Ief/xxLVmyRCtWrNDll1+uTz75RFOnTlVAQIDuueee8z1FAAAAmMzUwJuenq6ZM2dq6tSpkqTMzEytW7dOS5cuVXJycr3+mzZt0tChQ5WQkCBJCgkJ0bhx47Rlyxa3PjfddJNuuOEGV5+XXnrpjCvHNTU1qqmpcR1XVFR4ZH4AAAAwn2lbGo4fP678/HzFxsb+txi7XbGxsdq8eXOD58TExCg/P98VXnfv3q233npLI0eOdOuTk5OjXbt2SZK2b9+ujRs36vrrrz9tLWlpaQoICHC9goODPTFFAAAAtACmrfCWlZWptrZWQUFBbu1BQUEqKipq8JyEhASVlZVp2LBhMgxDJ0+e1J133qk5c+a4+iQnJ6uiokKhoaFyOByqra3VwoULNX78+NPWkpKSoqSkJNdxRUUFoRcAAMAiTL9prTFyc3O1aNEiPfvssyooKNCaNWu0bt06LViwwNXn5Zdf1osvvqhVq1apoKBAK1as0JNPPqkVK1acdlxvb2+1a9fO7QUAAABrMG2FNzAwUA6HQ6WlpW7tpaWl6tKlS4PnpKamauLEiZoxY4YkKTw8XJWVlZo1a5Yefvhh2e12Pfjgg0pOTtbtt9/u6vP//t//U1pamiZPnty8kwIAAECLY9oKb+vWrRUZGamcnBxXm9PpVE5OjoYMGdLgOVVVVbLb3Ut2OByS5Hrs2On6OJ1OT5YPAACAC4SpT2lISkrS5MmTNWjQIA0ePFgZGRmqrKx0PbVh0qRJ6t69u9LS0iRJ8fHxSk9P18CBAxUdHa2vvvpKqampio+PdwXf+Ph4LVy4UD179tTll1+uTz/9VOnp6Zo2bZpp8wRO50B5tb4pq1TvQH91DfA1uxwAACzJ1MA7duxYHTp0SPPmzVNJSYkGDBig9evXu25kKy4udlutnTt3rmw2m+bOnat9+/apU6dOroB7ytNPP63U1FT9+te/1sGDB9WtWzfdcccdmjdv3nmfH3Am2VuLlbLmczkNyW6T0kaHa2xUT7PLAgDAcmwGX0FWT0VFhQICAlReXs4NbGi0qqqq0z5p5JRDR45p2vKtqj1xXCfLS+UVECSvVt7KmjJIndr6/Og1QkND5efn56mSAcBjCgoKFBkZqfz8fEVERJhdDiysMXnN1BVewIqKiooUGRnZpHOvW352/fiLBACAs0fgBTwsNDRU+fn5Z+xzaoW3pmyvvvvHH9XxVw/IJ7Bno1Z4AQDA2SHwAh7m5+d3Vquv6X499MCzr0mSfAJ76o+/HqU49vACAOBxF9QXTwBWMjaqbkVXkrKmDOKGNQAAmgmBFzDRqe0LZ7ONAQAANA2BFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClmR54Fy9erJCQEPn4+Cg6Olp5eXln7J+RkaF+/frJ19dXwcHBuv/++3Xs2DG3Pvv27dOECRPUsWNH+fr6Kjw8XJ988klzTgMAAAAtlJeZF8/OzlZSUpIyMzMVHR2tjIwMxcXFaefOnercuXO9/qtWrVJycrKWLl2qmJgY7dq1S1OmTJHNZlN6erok6d///reGDh2qq666Sm+//bY6deqkL7/8Uu3btz/f0wMAAEALYGrgTU9P18yZMzV16lRJUmZmptatW6elS5cqOTm5Xv9NmzZp6NChSkhIkCSFhIRo3Lhx2rJli6vP448/ruDgYC1btszV1rt372aeCQAAAFoq07Y0HD9+XPn5+YqNjf1vMXa7YmNjtXnz5gbPiYmJUX5+vmvbw+7du/XWW29p5MiRrj5vvPGGBg0apDFjxqhz584aOHCgXnjhhTPWUlNTo4qKCrcXAAAArMG0wFtWVqba2loFBQW5tQcFBamkpKTBcxISEvToo49q2LBhatWqlS655BKNGDFCc+bMcfXZvXu3lixZoj59+uidd97RXXfdpXvuuUcrVqw4bS1paWkKCAhwvYKDgz0zSQAAAJjO9JvWGiM3N1eLFi3Ss88+q4KCAq1Zs0br1q3TggULXH2cTqciIiK0aNEiDRw4ULNmzdLMmTOVmZl52nFTUlJUXl7ueu3du/d8TAcAAADngWl7eAMDA+VwOFRaWurWXlpaqi5dujR4TmpqqiZOnKgZM2ZIksLDw1VZWalZs2bp4Ycflt1uV9euXXXZZZe5nRcWFqa///3vp63F29tb3t7e5zgjAAAAtESmrfC2bt1akZGRysnJcbU5nU7l5ORoyJAhDZ5TVVUlu929ZIfDIUkyDEOSNHToUO3cudOtz65du9SrVy9Plg8AAIALhKlPaUhKStLkyZM1aNAgDR48WBkZGaqsrHQ9tWHSpEnq3r270tLSJEnx8fFKT0/XwIEDFR0dra+++kqpqamKj493Bd/7779fMTExWrRokW677Tbl5eXp+eef1/PPP2/aPAEAAGAeUwPv2LFjdejQIc2bN08lJSUaMGCA1q9f77qRrbi42G1Fd+7cubLZbJo7d6727dunTp06KT4+XgsXLnT1iYqK0tq1a5WSkqJHH31UvXv3VkZGhsaPH3/e5wcAAADz2YxTewHgUlFRoYCAAJWXl6tdu3ZmlwMLKygoUGRkpPLz8xUREWF2OQBwzvi5hvOlMXntgnpKAwAAANBYBF4AAABYGoEXAAAAlkbgBUy0q6TC7R0AAHgegRcwyQMvb9P9L2+XJN3/8nY98PI2cwsCAMCiCLyACbbv/bf+XrDPre3vBfu0fe+/TaoIAADrIvACJsjbc7jB9k/2EHgBAPA0Ai9ggsEhHRpsHxTS/jxXAgCA9RF4ARP0D26vWyK6u7XdEtFd/YMJvAAAeJqpXy0M/JT98bYBimrzvcatkJ66rb9uHznA7JIAALAkVngBE/Xt0s7tHQAAeB4rvMBZ+PLLL3XkyBGPj1tYWOj27mlt27ZVnz59mmVsAAAuFARe4Ed8+eWX6tu3b7NeY8KECc029q5duwi9AICfNAIv8CNOreyuXLlSYWFhHh27urpae/bsUUhIiHx9fT06dmFhoSZMmNAsK9MAAFxICLzAWQoLC1NERITHxx06dKjHxwQAAP/FTWsAAACwNAIvAAAALI3ACwAAAEsj8AIAAMDSCLwAAACwNAIvAAAALI3ACwAAAEsj8AIAAMDSCLwAAACwNAIvAAAALI3ACwAAAEsj8AIAAMDSCLyAiQ6UV2vT12U6UF5tdikA4Bmlhe7vQAvgZXYBwE9V9tZipaz5XE5DstuktNHhGhvV0+yyAKDp1t4lrf9b3Z9fu0M6tlG6eYm5NQFihRcwxYHyalfYlSSnIc1Zs4OVXgAXrm/zpe2r3Nu2r6prB0xG4AVM8E1ZpSvsnlJrGNpTVmVOQQBwroo3N9y+9+PzWwfQgBYReBcvXqyQkBD5+PgoOjpaeXl5Z+yfkZGhfv36ydfXV8HBwbr//vt17NixBvs+9thjstlsuu+++5qhcqBpegf6y25zb3PYbAoJ9DOnIAA4Vz2HNNwefOX5rQNogOmBNzs7W0lJSZo/f74KCgrUv39/xcXF6eDBgw32X7VqlZKTkzV//nwVFhYqKytL2dnZmjNnTr2+W7du1XPPPaef/exnzT0NoFG6BvgqbXS4HLa61Ouw2bRo9BXqGuBrcmUA0EQ9IqX+Ce5t/RPq2gGTmX7TWnp6umbOnKmpU6dKkjIzM7Vu3TotXbpUycnJ9fpv2rRJQ4cOVUJC3f9UISEhGjdunLZs2eLW7+jRoxo/frxeeOEF/f73v2/+iQCNNDaqp4b37aQ9ZVUKCfQj7AK48N28RPIZJj0/QRr1nHT9eLMrAiSZvMJ7/Phx5efnKzY21tVmt9sVGxurzZsb3gsUExOj/Px817aH3bt366233tLIkSPd+s2ePVs33HCD29inU1NTo4qKCrcXcD50DfDVkEs6EnYBWEdQmPs70AKYusJbVlam2tpaBQUFubUHBQWpqKiowXMSEhJUVlamYcOGyTAMnTx5UnfeeafblobVq1eroKBAW7duPas60tLS9MgjjzR9IgAAXGC+/PJLHTlyxOPjFhYWur17Wtu2bdWnT59mGRvWZfqWhsbKzc3VokWL9Oyzzyo6OlpfffWV7r33Xi1YsECpqanau3ev7r33Xr333nvy8fE5qzFTUlKUlJTkOq6oqFBwcHBzTQEAAFN9+eWX6tu3b7NeY8KECc029q5duwi9aBRTA29gYKAcDodKS0vd2ktLS9WlS5cGz0lNTdXEiRM1Y8YMSVJ4eLgqKys1a9YsPfzww8rPz9fBgwcVERHhOqe2tlYbNmzQM888o5qaGjkcDrcxvb295e3t7eHZAQDQMp1a2V25cqXCwjy79aC6ulp79uxRSEiIfH09u12rsLBQEyZMaJaVaVibqYG3devWioyMVE5OjkaNGiVJcjqdysnJUWJiYoPnVFVVyW5333p8KsAahqFrrrlGn3/+udvnU6dOVWhoqB566KF6YRcAgJ+qsLAwtwUiTxk6dKjHxwTOhelbGpKSkjR58mQNGjRIgwcPVkZGhiorK11PbZg0aZK6d++utLQ0SVJ8fLzS09M1cOBA15aG1NRUxcfHy+FwqG3btrriiivcruHv76+OHTvWawcAAID1mR54x44dq0OHDmnevHkqKSnRgAEDtH79eteNbMXFxW4runPnzpXNZtPcuXO1b98+derUSfHx8Vq4cKFZUwAAAEALZnrglaTExMTTbmHIzc11O/by8tL8+fM1f/78sx7/f8cAAADAT4fp37QGAAAANCcCLwAAACyNwAsAAABLI/ACAADA0hodeENCQvToo4+quLi4OeoBAAAAPKrRgfe+++7TmjVrdPHFF+uXv/ylVq9erZqamuaoDQAAADhnTQq827ZtU15ensLCwnT33Xera9euSkxMVEFBQXPUCAAAADRZk/fwRkRE6M9//rP279+v+fPn6y9/+YuioqI0YMAALV26VIZheLJOAAAAoEma/MUTJ06c0Nq1a7Vs2TK99957uvLKKzV9+nR9++23mjNnjv75z39q1apVnqwVsJwD5dX6pqxSvQP91TXA1+xyAODcfZsvFW+Weg6RekSaXQ0gqQmBt6CgQMuWLdNLL70ku92uSZMm6amnnlJoaKirz80336yoqCiPFgpYTfbWYqWs+VxOQ7LbpLTR4Rob1dPssgCg6dbeJW3/wWJX/wTp5iXm1QP8R6O3NERFRenLL7/UkiVLtG/fPj355JNuYVeSevfurdtvv91jRQJWc6C82hV2JclpSHPW7NCB8mpzCwOApvo23z3sSnXH3+abUw/wA41e4d29e7d69ep1xj7+/v5atmxZk4sCrO6bskpX2D2l1jC0p6yKrQ0ALkzFmxtu3/sxWxtgukav8B48eFBbtmyp175lyxZ98sknHikKsLregf6y29zbHDabQgL9zCkIAM5VzyENtwdfeX7rABrQ6MA7e/Zs7d27t177vn37NHv2bI8UBVhd1wBfpY0Ol8NWl3odNpsWjb6C1V0AF64ekXV7dn+ofwKru2gRGr2l4YsvvlBERES99oEDB+qLL77wSFHAT8HYqJ4a3reT9pRVKSTQj7AL4MJ38xIpakbdNobgKwm7aDEaHXi9vb1VWlqqiy++2K39wIED8vJq8lPOgJ+krgG+BF0A1tIjkqCLFqfRWxquvfZapaSkqLy83NX2/fffa86cOfrlL3/p0eIAAACAc9XoJdknn3xSw4cPV69evTRw4EBJ0rZt2xQUFKS//e1vHi8QAAAAOBeNDrzdu3fXZ599phdffFHbt2+Xr6+vpk6dqnHjxqlVq1bNUSMAAADQZE3adOvv769Zs2Z5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xqmtDQAAAECj9/AuW7ZMr7zySr32V155RStWrPBIUQAAAICnNDrwpqWlKTAwsF57586dtWjRIo8UBQAAAHhKowNvcXFxg0896NWrl4qLiz1SFAAAAOApjQ68nTt31meffVavffv27erYsaNHigIAAAA8pdGBd9y4cbrnnnv0wQcfqLa2VrW1tXr//fd177336vbbb2+OGgEAAIAma/RTGhYsWKA9e/bommuukZdX3elOp1OTJk1iDy8AAABanEYH3tatWys7O1u///3vtW3bNvn6+io8PFy9evVqjvoAAACAc9LowHtKnz591KdPH0/WAgAAAHhco/fw3nLLLXr88cfrtT/xxBMaM2aMR4oCAAAAPKXRgXfDhg0aOXJkvfbrr79eGzZs8EhRwE/FgfJqbfq6TAfKq80uBQAAy2r0loajR4+qdevW9dpbtWqliooKjxQF/BRkby1WyprP5TQku01KGx2usVE9zS4LAADLafQKb3h4uLKzs+u1r169WpdddplHigKs7kB5tSvsSpLTkOas2cFKLwAAzaDRK7ypqakaPXq0vv76a1199dWSpJycHK1atUqvvvqqxwsErOibskpX2D2l1jC0p6xKXQN8zSkKAACLanTgjY+P12uvvaZFixbp1Vdfla+vr/r376/3339fHTp0aI4aAcvpHegvu01uoddhsykk0M+8ogDAE8r3SYe/ljpcIgV0N7saQFITtjRI0g033KCPPvpIlZWV2r17t2677Tb95je/Uf/+/T1dH2BJXQN8lTY6XA6bTVJd2F00+gpWdwFc2Ar+KmVcIa2Ir3sv+KvZFQGSzuE5vBs2bFBWVpb+/ve/q1u3bho9erQWL17sydoASxsb1VPD+3bSnrIqhQT6EXYBXNjK90lv3isZzrpjwym9eZ90yTWs9MJ0jQq8JSUlWr58ubKyslRRUaHbbrtNNTU1eu2117hhDWiCrgG+BF0A1nD46/+G3VOMWunwbgIvTHfWWxri4+PVr18/ffbZZ8rIyND+/fv19NNPN2dtAADgQtHhEsn2P7HC5pA6XGxOPcAPnHXgffvttzV9+nQ98sgjuuGGG+RwOJqzLgAAcCEJ6C7F/6ku5Ep17/EZrO6iRTjrLQ0bN25UVlaWIiMjFRYWpokTJ+r2229vztoAAMCFJGJS3Z7dw7vrVnYJu2ghznqF98orr9QLL7yg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denSRXFxcfrwww8VGBioxx57rMHzFixYoKCgIJ04cULLly+XzWZTWFhYvX6vvPKKbDabQkJCmnkmAM63KVOmyGazyWazqVWrVurdu7d++9vf6tixY2aX1qx+OO8fvr766itTaxo1apRp14fnEXgBD7rlllv06aefasWKFdq1a5feeOMNjRgxQuXl5ZowYYKWLVtW7xzDMLR8+XJNmjRJrVq1kiT5+/vr4MGD2rx5s1vfrKws9ezZ87zMBcD5d9111+nAgQPavXu3nnrqKT333HOaP3++2WU1u1Pz/uGrd+/eTRrr+PHjHq4OVkDgBTzk+++/17/+9S89/vjjuuqqq9SrVy8NHjxYKSkpuvHGGzV9+nTt2rVLGzdudDvvww8/1O7duzV9+nRXm5eXlxISErR06VJX27fffqvc3FwlJCSctzkBOL9O/WYoODhYo0aNUmxsrN577z3X5999953GjRun7t27y8/PT+Hh4XrppZfcxhgxYoTuuece/fa3v1WHDh3UpUsX/e53v3Pr8+WXX2r48OHy8fHRZZdd5naNUz7//HNdffXV8vX1VceOHTVr1iwdPXrU9fmpVdBFixYpKChIF110kR599FGdPHlSDz74oDp06KAePXo0+A/90837hy+HwyGp7mfk4MGD5e3tra5duyo5OVknT550m29iYqLuu+8+BQYGKi4uTpK0Y8cOXX/99WrTpo2CgoI0ceJElZWVuc579dVXFR4e7ppfbGysKisr9bvf/U4rVqzQ66+/7lptzs3N/dE5oGUj8AIe0qZNG7Vp00avvfaaampq6n0eHh6uqKgotxArScuWLVNMTIxCQ0Pd2qdNm6aXX35ZVVVVkqTly5fruuuuU1BQUPNNAkCLsWPHDm3atEmtW7d2tR07dkyRkZFat26dduzYoVmzZmnixInKy8tzO3fFihXy9/fXli1b9MQTT+jRRx91hVqn06nRo0erdevW2rJlizIzM/XQQw+5nV9ZWam4uDi1b99eW7du1SuvvKJ//vOfSkxMdOv3/vvva//+/dqwYYPS09M1f/58/epXv1L79u21ZcsW3Xnnnbrjjjv07bffNum/wb59+zRy5EhFRUVp+/btWrJkibKysvT73/++3nxbt26tjz76SJmZmfr+++919dVXa+DAgfrkk0+0fv16lZaW6rbbbpMkHThwQOPGjdO0adNUWFio3NxcjR49WoZh6De/+Y1uu+02t1XnmJiYJtWPFsQA4DGvvvqq0b59e8PHx8eIiYkxUlJSjO3bt7s+z8zMNNq0aWMcOXLEMAzDqKioMPz8/Iy//OUvrj7Lli0zAgICDMMwjAEDBhgrVqwwnE6ncckllxivv/668dRTTxm9evU6n9MCcB5MnjzZcDgchr+/v+Ht7W1IMux2u/Hqq6+e8bwbbrjBeOCBB1zHv/jFL4xhw4a59YmKijIeeughwzAM45133jG8vLyMffv2uT5/++23DUnG2rVrDcMwjOeff95o3769cfToUVefdevWGXa73SgpKXHV26tXL6O2ttbVp1+/fsbPf/5z1/HJkycNf39/46WXXjqreZ963XrrrYZhGMacOXOMfv36GU6n09V/8eLFRps2bVzX/cUvfmEMHDjQbcwFCxYY1157rVvb3r17DUnGzp07jfz8fEOSsWfPntPWdNNNN522Zlx4WOEFPOiWW27R/v379cYbb+i6665Tbm6uIiIitHz5cknSuHHjVFtbq5dfflmSlJ2dLbvdrrFjxzY43rRp07Rs2TJ9+OGHqqys1MiRI8/XVACY4KqrrtK2bdu0ZcsWTZ48WVOnTtUtt9zi+ry2tlYLFixQeHi4OnTooDZt2uidd95RcXGx2zg/+9nP3I67du2qgwcPSpIKCwsVHBysbt26uT4fMmSIW//CwkL1799f/v7+rrahQ4fK6XRq586drrbLL79cdvt/o0RQUJDCw8Ndxw6HQx07dnRd+8fmfer15z//2VXHkCFDZLPZ3Oo4evSo26pxZGSk23jbt2/XBx984PrNW5s2bVy/Rfv666/Vv39/XXPNNQoPD9eYMWP0wgsv6N///vcZa8SFjcALeJiPj49++ctfKjU1VZs2bdKUKVNcN520a9dOt956q2tP27Jly3TbbbepTZs2DY41fvx4ffzxx/rd736niRMnysvL67zNA8D55+/vr0svvVT9+/fX0qVLtWXLFmVlZbk+/8Mf/qA//elPeuihh/TBBx9o27ZtiouLq3ej1qkbYE+x2WxyOp0er7eh6zTl2qfmferVtWvXRtXxw2AuSUePHlV8fLxbiN62bZtr77LD4dB7772nt99+W5dddpmefvpp9evXT998802jrosLB4EXaGaXXXaZKisrXcfTp0/Xxo0b9Y9//EObNm1yu1ntf3Xo0EE33nijPvzwQ02bNu18lAughbDb7ZozZ47mzp2r6upqSdJHH32km266SRMmTFD//v118cUXa9euXY0aNywsTHv37tWBAwdcbR9//HG9Ptu3b3f72fXRRx/JbrerX79+5zCrxgkLC9PmzZtlGIZbHW3btlWPHj1Oe15ERIT+7//+TyEhIW5B+tJLL3WFY5vNpqFDh+qRRx7Rp59+qtatW2vt2rWSpNatW6u2trZ5J4fzisALeMh3332nq6++WitXrtRnn32mb775Rq+88oqeeOIJ3XTTTa5+w4cP16WXXqpJkyYpNDT0R2+GWL58ucrKyurd1AbA+saMGSOHw6HFixdLkvr06aP33ntPmzZtUmFhoe644w6VlpY2aszY2Fj17dtXkydP1vbt2/Wvf/1LDz/8sFuf8ePHy8fHR5MnT9aOHTv0wQcf6O6779bEiRPP642zv/71r7V3717dfffdKioq0uuvv6758+crKSnJbSvF/5o9e7YOHz6scePGaevWrfr666/1zjvvaOrUqaqtrdWWLVu0aNEiffLJJyouLtaaNWt06NAh1/PPQ0JC9Nlnn2nnzp0qKyvTiRMnzteU0UwIvICHtGnTRtHR0Xrqqac0fPhwXXHFFUpNTdXMmTP1zDPPuPrZbDZNmzZN//73v89q1fbUI3MA/PR4eXkpMTFRTzzxhCorKzV37lxFREQoLi5OI0aMUJcuXRr9BQl2u11r165VdXW1Bg8erBkzZmjhwoVuffz8/PTOO+/o8OHDioqK0q233qprrrnG7WfZ+dC9e3e99dZbysvLU//+/XXnnXdq+vTpmjt37hnP69atmz766CPV1tbq2muvVXh4uO677z5ddNFFstvtateunTZs2KCRI0eqb9++mjt3rv74xz/q+uuvlyTNnDlT/fr106BBg9SpUyd99NFH52O6aEY244e/JwAAAAAshhVeAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAIClEXgBAABgaQReAAAAWBqBFwAAAJZG4AUAAICl/X8MJWVAI4xuHgAAAABJRU5ErkJggg==\n"
          },
          "metadata": {}
        }
      ],
      "source": [
        "plt.figure(figsize=(8, 4))\n",
        "plt.plot([1]*10, svm_scores, \".\")\n",
        "plt.plot([2]*10, forest_scores, \".\")\n",
        "plt.boxplot([svm_scores, forest_scores], labels=(\"SVM\", \"Random Forest\"))\n",
        "plt.ylabel(\"Accuracy\")\n",
        "plt.show()"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "PjX0mEWZCHks"
      },
      "source": [
        "이 결과를 더 향상시키려면:\n",
        "\n",
        "* 교차 검증과 그리드 탐색을 사용하여 더 많은 모델을 비교하고 하이퍼파라미터를 튜닝하세요.\n",
        "* 특성 공학을 더 시도해 보세요, 예를 들면:\n",
        "  * SibSp와 Parch을 이 두 특성의 합으로 바꿉니다.\n",
        "  * Survived 특성과 관련된 이름을 구별해 보세요(가령, 이름에 \"Countess\"가 있는 경우 생존할 가능성이 높습니다).\n",
        "* 수치 특성을 범주형 특성으로 바꾸어 보세요: 예를 들어, 나이대가 다른 경우 다른 생존 비율을 가질 수 있습니다(아래 참조). 그러므로 나이 구간을 범주로 만들어 나이 대신 사용하는 것이 도움이 될 수 있스니다. 비슷하게 생존자의 30%가 혼자 여행하는 사람이기 때문에 이들을 위한 특별한 범주를 만드는 것이 도움이 될 수 있습니다(아래 참조)."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 111,
      "metadata": {
        "id": "51IT_3IaCHks",
        "outputId": "4f613c54-57cc-45e2-eafd-0c978156bfe8",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 266
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "           Survived\n",
              "AgeBucket          \n",
              "0.0        0.576923\n",
              "15.0       0.362745\n",
              "30.0       0.423256\n",
              "45.0       0.404494\n",
              "60.0       0.240000\n",
              "75.0       1.000000"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-9a0f551c-6535-4e91-8a15-d7b485bee67e\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Survived</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>AgeBucket</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0.0</th>\n",
              "      <td>0.576923</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>15.0</th>\n",
              "      <td>0.362745</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>30.0</th>\n",
              "      <td>0.423256</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>45.0</th>\n",
              "      <td>0.404494</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>60.0</th>\n",
              "      <td>0.240000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>75.0</th>\n",
              "      <td>1.000000</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-9a0f551c-6535-4e91-8a15-d7b485bee67e')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "        \n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "      \n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-9a0f551c-6535-4e91-8a15-d7b485bee67e button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-9a0f551c-6535-4e91-8a15-d7b485bee67e');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n",
              "  "
            ]
          },
          "metadata": {},
          "execution_count": 111
        }
      ],
      "source": [
        "train_data[\"AgeBucket\"] = train_data[\"Age\"] // 15 * 15\n",
        "train_data[[\"AgeBucket\", \"Survived\"]].groupby(['AgeBucket']).mean()"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 112,
      "metadata": {
        "id": "rrWSOj-FCHks",
        "outputId": "55a075f9-6df2-4568-fe68-92f5b712d78a",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 359
        }
      },
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                  Survived\n",
              "RelativesOnboard          \n",
              "0                 0.303538\n",
              "1                 0.552795\n",
              "2                 0.578431\n",
              "3                 0.724138\n",
              "4                 0.200000\n",
              "5                 0.136364\n",
              "6                 0.333333\n",
              "7                 0.000000\n",
              "10                0.000000"
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-c32f19d9-24f3-49b3-9044-60b33b5a6d16\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Survived</th>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>RelativesOnboard</th>\n",
              "      <th></th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>0.303538</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>0.552795</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>0.578431</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>0.724138</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>0.200000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>5</th>\n",
              "      <td>0.136364</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>6</th>\n",
              "      <td>0.333333</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>7</th>\n",
              "      <td>0.000000</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>10</th>\n",
              "      <td>0.000000</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c32f19d9-24f3-49b3-9044-60b33b5a6d16')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "        \n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "      \n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-c32f19d9-24f3-49b3-9044-60b33b5a6d16 button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-c32f19d9-24f3-49b3-9044-60b33b5a6d16');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n",
              "  "
            ]
          },
          "metadata": {},
          "execution_count": 112
        }
      ],
      "source": [
        "train_data[\"RelativesOnboard\"] = train_data[\"SibSp\"] + train_data[\"Parch\"]\n",
        "train_data[[\"RelativesOnboard\", \"Survived\"]].groupby(\n",
        "    ['RelativesOnboard']).mean()"
      ]
    }
  ]
}
